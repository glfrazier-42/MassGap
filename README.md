# Mass Gap

The pdf: [mass_gap.pdf](https://github.com/glfrazier-42/MassGap/blob/master/mass_gap.pdf)

## Abstract

The observed deficit of compact objects between ~2.5 and
~$5 M_\odot$—the lower mass gap—has no widely
accepted physical explanation. We propose that the gap is the
signature of the phase transition from neutron-degenerate to
quark-degenerate matter, and present four lines of evidence:

1. The TOV equations predict the step-function jump in gravitational
mass at the neutron$\rightarrow$quark transition;

2. Pulsars above the 2M${}_\odot$ stability limit are observed
only at fast spin rates, consistent with centrifugal support delaying
collapse to black hole;

3. Failed supernovae confirm that cores well below 5M${}_\odot$
collapse; and

4. Analysis of LIGO black hole merger data reveals spin-dependent mass
deficits consistent with black holes being structured matter (versus being singularities).

Stellar objects (neutron stars, red supergiant cores) of
~2M${}_\odot$ in size collapse to form black holes, and
the smallest observed black hole is over 5M${}_\odot$. There is
no baryonic mass gap—the gap is in the observed, gravitational mass
and is an inevitable result of the increased pressure that results
from the collapse. And the existence of pressure means that black
holes cannot be singularities.

## Reproducing the Analysis

The goal is full reproducibility: clone, download data, run scripts,
and build the PDF. All figures and tables are generated from raw data;
nothing is hard-coded in the paper.

### Prerequisites

- Python 3.10+
- LaTeX distribution with `pdflatex` and `bibtex`
- Required Python packages:

```bash
python -m venv venv
source venv/bin/activate  # Windows/Cygwin: venv/Scripts/activate
pip install -r requirements.txt
```

### Data

The `data/` directory is in `.gitignore`. You must download the
following datasets manually and place them in `data/`.

**GWTC catalog** (`gwtc_catalog.csv`):
Download from the [Gravitational Wave Open Science Center](https://gwosc.org).
This provides BBH merger parameters (masses, spins, mass deficits)
used by the merger spin analysis.

**ATNF Pulsar Catalogue** (`data/raw/psrcat.db`):
Download the full catalogue database from the
[ATNF Pulsar Catalogue](https://www.atnf.csiro.au/research/pulsar/psrcat/)
and place `psrcat.db` in `data/raw/`. Then run the extraction scripts
to produce the CSVs used by the analysis:

```bash
PYTHONPATH=src python scripts/extract_atnf_periods.py
PYTHONPATH=src python scripts/extract_atnf_name_mapping.py
```

This produces `data/atnf_pulsar_periods.csv` and
`data/atnf_name_mapping.csv`.

**Neutron star masses** (`stellar_collapse_ns_masses.csv`):
Included in the repository. Hand-curated from data published by
[stellarcollapse.org](https://stellarcollapse.org). Provides measured
neutron star masses used in the TOV and pulsar population analyses.

**EOS tables** (`data/eos/*.txt`):
Download the HDF5 tables from
[stellarcollapse.org](https://stellarcollapse.org/equationofstate)
and extract cold beta-equilibrium slices:

```bash
# Download HDF5 tables (~2-4 GB each) from stellarcollapse.org
bash scripts/download_eos_tables.sh

# Extract cold beta-equilibrium slices
PYTHONPATH=src python scripts/extract_all_eos.py
```

This produces text tables (LS180, LS220, LS375, SFHo, DD2, HShen)
used by the TOV solver.

**Combined pulsar mass-period data** (`pulsar_mass_period_combined.csv`):
Generated by `scripts/merge_mass_period_final.py` from the ATNF and
stellar collapse datasets above.

### Running the Analysis

All scripts are run from the project root:

```bash
# Merge pulsar mass and period data
PYTHONPATH=src python scripts/merge_mass_period_final.py

# Pulsar mass-spin correlation analysis
PYTHONPATH=src python scripts/analyze_mass_spin_correlation.py

# Population survival analysis
PYTHONPATH=src python scripts/population_survival_v2.py

# BH merger spin analysis (GWTC catalog)
PYTHONPATH=src python scripts/run_bh_merger_spin.py
```

### Building the Paper

```bash
cd latex-paper && make
```

This runs `pdflatex` and `bibtex` to produce `mass_gap.pdf`.

There is a `scripts/build_paper.sh` convenience script.

The above instructions were developed and tested on a
Windows 11 PC with cygwin64, so you may have to
adjust according to your compute environment.
